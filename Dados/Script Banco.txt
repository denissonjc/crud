CREATE TABLE PESSOA (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
    NOME VARCHAR(128),
    CPF_CNPJ VARCHAR(18),
    TELEFONE VARCHAR(13),
    CELULAR VARCHAR(14),
    ENDERECO VARCHAR(128),
    BAIRRO VARCHAR(128),
    COMPLEMENTO VARCHAR(128),
    CIDADE VARCHAR(128),
    CEP VARCHAR(128),
    DATA_CADASTRO TIMESTAMP,
    DATA_ATUALIZACAO TIMESTAMP,
    DATA_ULTIMA_VENDA TIMESTAMP)
	
ALTER TABLE PESSOA
	ADD CONSTRAINT PK_PESSOA
	PRIMARY KEY (ID)

CREATE TABLE PRODUTO (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
    CODIGO_BARRAS VARCHAR(128),
    DESCRICAO VARCHAR(18),
    VALOR_CUSTO FLOAT,
    VALOR_VENDA FLOAT,    
    DATA_CADASTRO TIMESTAMP,
    DATA_ATUALIZACAO TIMESTAMP,
    DATA_ULTIMA_VENDA TIMESTAMP)	
	
ALTER TABLE PRODUTO
	ADD CONSTRAINT PK_PRODUTO
	PRIMARY KEY (ID)	
	
CREATE TABLE PEDIDO_VENDA (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
    NUMERO INTEGER,
    DATA_EMISSAO TIMESTAMP,
	ID_CLIENTE INTEGER NOT NULL,
    VALOR_PRODUTOS FLOAT,
    VALOR_DESCONTO FLOAT,    
    VALOR_TOTAL FLOAT)	
	
ALTER TABLE PEDIDO_VENDA
	ADD CONSTRAINT PK_PEDIDO_VENDA
	PRIMARY KEY (ID)
	
CREATE TABLE ITEM_PEDIDO_VENDA (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY,
	ID_PEDIDO_VENDA INTEGER NOT NULL,
	ID_PRODUTO INTEGER NOT NULL,
    DESCRICAO_PRODUTO VARCHAR(128),
    VALOR_CUSTO FLOAT,
    VALOR_VENDA FLOAT, 
	QUANTIDADE FLOAT,	
    VALOR_TOTAL FLOAT)	
	
ALTER TABLE ITEM_PEDIDO_VENDA
	ADD CONSTRAINT PK_ITEM_PEDIDO_VENDA
	PRIMARY KEY (ID)		
	
ALTER TABLE PEDIDO_VENDA
ADD CONSTRAINT FK_PEDIDO_VENDA_1
FOREIGN KEY (ID_CLIENTE)
REFERENCES PESSOA(ID)	

ALTER TABLE ITEM_PEDIDO_VENDA
ADD CONSTRAINT FK_ITEM_PEDIDO_VENDA_1
FOREIGN KEY (ID_PEDIDO_VENDA)
REFERENCES PEDIDO_VENDA(ID)

ALTER TABLE ITEM_PEDIDO_VENDA
ADD CONSTRAINT FK_ITEM_PEDIDO_VENDA_2
FOREIGN KEY (ID_PRODUTO)
REFERENCES PRODUTO(ID)